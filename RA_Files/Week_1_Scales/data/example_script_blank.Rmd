---
title: "R Notebook"
output: html_notebook
editor_options: 
  chunk_output_type: console
---

# Workspace
## Packages
```{r}
library(psych)
library(plyr)
library(tidyverse)
```

## Data  
First, we need to load in the data. In this case, we're going to load in 3 sets of data from the Big 5 from the SAPA project. Each of the data sets have the same participants. What differs is the number of items in the scale.  
### IPIP20
```{r}
# load data
ipip20 <- read_csv("~/Dropbox (Brown)/Summer 2018/RA Files/Week 1 Scales/data/ipip20.csv")
```

### IPIP50  
```{r}
# load data
ipip50 <- read_csv("~/Dropbox (Brown)/Summer 2018/RA Files/Week 1 Scales/data/ipip50.csv")
```

### IPIP100
```{r}
# load data
ipip100 <- read_csv("~/Dropbox (Brown)/Summer 2018/RA Files/Week 1 Scales/data/ipip100.csv")
```

# Inter-Item Correlations  
When we create scales for a construct, we want the items to all be related to one another. This can be done using something called the inter-item correlation, which is what it sounds like the inter (between) item correlation. 

Below, you see code for pulling out the Agreeableness items from the IPIP20 and saving them to an object called "a." Do the same for the other 4 of the Big 5. You'll also see code for taking the correlation between items in the Agreeableness scale. Do the same for the rest of the Big 5. Are the items related? Do you see anything strange?

## IPIP20
```{r}
a <- ipip20 %>% select(contains("Agreeableness"))

(r_a <- cor(a, use = "pairwise"))
```


## Reverse Coding  
When we work with the relatedness of items in a scale, it's usually because we want to somehow combine them into a composite score (usually through a mean or a sum score). However, most scales will often have reverse coded items (e.g. "I am relaxed" being a negatively coded Neuroticism item). If we take the mean of those items, then it won't reflect the underlying construct. Thus, we "flip" the scale, such that a low rating of an item like "I am relaxed"
```{r}
load("~/Dropbox (Brown)/Summer 2018/RA Files/Week 1 Scales/data/keys.RData")

keys20 <- ipip20_items$rev_code

ipip20[5:24] <- reverse.code(ipip20[5:24], keys = keys20)
```

## Back to IPIP20
```{r}
a20 <- ipip20 %>% select(contains("Agreeableness"))

(r_a20 <- cor(a20, use = "pairwise"))
```

## IPIP50
```{r}
# add code here
```

## IPIP100
```{r}
# add code here
```


## Average Inter-Item Correlations  

### IPIP20
```{r}
r_a20[lower.tri(r_a20, diag = T)] <- NA

mean(r_a20, na.rm = T)
```

### IPIP50  
```{r}
# add code here
```

### IPIP100  
```{r}

```

# Item-Total Correlations  
## Manual Method  

### IPIP20  
```{r}
(a20_itr <- cor(a20, rowMeans(a20, na.rm = T), use = "pairwise"))
```

### IPIP50  
```{r}
# add code here
```

### IPIP100  
```{r}
# add code here
```

## `psych` package  
### IPIP20  
```{r}
(a20_alpha <- psych::alpha(a20))

a20_alpha$item.stats
```

### IPIP50  
```{r}
# add code here
```

### IPIP100  
```{r}
# add code here
```

# Split-Half Reliability
## Manual Method  
### IPIP20  
```{r}
cor(rowMeans(a20[,1:2]), rowMeans(a20[,3:4]))
```

### IPIP50  
```{r}
# add code here
```

### IPIP100   
```{r}
# add code here
```

## `psych` package
### IPIP20  
```{r}
splitHalf(a20)
```

### IPIP50  
```{r}
# add code here
```

### IPIP100  
```{r}
# add code here
```

# Cronbach's alpha
## IPIP20  
```{r}
a20_alpha$total
```

## IPIP50  
```{r}
# add code here
```

## IPIP100
```{r}
# add code here
```

# Scale Development  

